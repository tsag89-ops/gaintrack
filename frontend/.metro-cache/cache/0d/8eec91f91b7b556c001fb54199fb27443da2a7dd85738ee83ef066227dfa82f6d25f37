{"dependencies":[{"name":"./tls-helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":22,"index":735},"end":{"line":20,"column":46,"index":759}}],"key":"8mbxh5tJnIQlGM4e70Wxnn35nsQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  /*\n   * Copyright 2019 gRPC authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   */\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ServerCredentials = void 0;\n  const tls_helpers_1 = require(_dependencyMap[0], \"./tls-helpers\");\n  class ServerCredentials {\n    static createInsecure() {\n      return new InsecureServerCredentials();\n    }\n    static createSsl(rootCerts, keyCertPairs, checkClientCertificate = false) {\n      if (rootCerts !== null && !Buffer.isBuffer(rootCerts)) {\n        throw new TypeError('rootCerts must be null or a Buffer');\n      }\n      if (!Array.isArray(keyCertPairs)) {\n        throw new TypeError('keyCertPairs must be an array');\n      }\n      if (typeof checkClientCertificate !== 'boolean') {\n        throw new TypeError('checkClientCertificate must be a boolean');\n      }\n      const cert = [];\n      const key = [];\n      for (let i = 0; i < keyCertPairs.length; i++) {\n        const pair = keyCertPairs[i];\n        if (pair === null || typeof pair !== 'object') {\n          throw new TypeError(`keyCertPair[${i}] must be an object`);\n        }\n        if (!Buffer.isBuffer(pair.private_key)) {\n          throw new TypeError(`keyCertPair[${i}].private_key must be a Buffer`);\n        }\n        if (!Buffer.isBuffer(pair.cert_chain)) {\n          throw new TypeError(`keyCertPair[${i}].cert_chain must be a Buffer`);\n        }\n        cert.push(pair.cert_chain);\n        key.push(pair.private_key);\n      }\n      return new SecureServerCredentials({\n        ca: rootCerts || (0, tls_helpers_1.getDefaultRootsData)() || undefined,\n        cert,\n        key,\n        requestCert: checkClientCertificate,\n        ciphers: tls_helpers_1.CIPHER_SUITES\n      });\n    }\n  }\n  exports.ServerCredentials = ServerCredentials;\n  class InsecureServerCredentials extends ServerCredentials {\n    _isSecure() {\n      return false;\n    }\n    _getSettings() {\n      return null;\n    }\n  }\n  class SecureServerCredentials extends ServerCredentials {\n    constructor(options) {\n      super();\n      this.options = options;\n    }\n    _isSecure() {\n      return true;\n    }\n    _getSettings() {\n      return this.options;\n    }\n  }\n});","lineCount":85,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[5,0,3,0],[6,0,4,0],[7,0,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,2,18,0,"Object"],[20,8,18,6],[20,9,18,7,"defineProperty"],[20,23,18,21],[20,24,18,22,"exports"],[20,31,18,29],[20,33,18,31],[20,45,18,43],[20,47,18,45],[21,4,18,47,"value"],[21,9,18,52],[21,11,18,54],[22,2,18,59],[22,3,18,60],[22,4,18,61],[23,2,19,0,"exports"],[23,9,19,7],[23,10,19,8,"ServerCredentials"],[23,27,19,25],[23,30,19,28],[23,35,19,33],[23,36,19,34],[24,2,20,0],[24,8,20,6,"tls_helpers_1"],[24,21,20,19],[24,24,20,22,"require"],[24,31,20,29],[24,32,20,29,"_dependencyMap"],[24,46,20,29],[24,66,20,45],[24,67,20,46],[25,2,21,0],[25,8,21,6,"ServerCredentials"],[25,25,21,23],[25,26,21,24],[26,4,22,4],[26,11,22,11,"createInsecure"],[26,25,22,25,"createInsecure"],[26,26,22,25],[26,28,22,28],[27,6,23,8],[27,13,23,15],[27,17,23,19,"InsecureServerCredentials"],[27,42,23,44],[27,43,23,45],[27,44,23,46],[28,4,24,4],[29,4,25,4],[29,11,25,11,"createSsl"],[29,20,25,20,"createSsl"],[29,21,25,21,"rootCerts"],[29,30,25,30],[29,32,25,32,"keyCertPairs"],[29,44,25,44],[29,46,25,46,"checkClientCertificate"],[29,68,25,68],[29,71,25,71],[29,76,25,76],[29,78,25,78],[30,6,26,8],[30,10,26,12,"rootCerts"],[30,19,26,21],[30,24,26,26],[30,28,26,30],[30,32,26,34],[30,33,26,35,"Buffer"],[30,39,26,41],[30,40,26,42,"isBuffer"],[30,48,26,50],[30,49,26,51,"rootCerts"],[30,58,26,60],[30,59,26,61],[30,61,26,63],[31,8,27,12],[31,14,27,18],[31,18,27,22,"TypeError"],[31,27,27,31],[31,28,27,32],[31,64,27,68],[31,65,27,69],[32,6,28,8],[33,6,29,8],[33,10,29,12],[33,11,29,13,"Array"],[33,16,29,18],[33,17,29,19,"isArray"],[33,24,29,26],[33,25,29,27,"keyCertPairs"],[33,37,29,39],[33,38,29,40],[33,40,29,42],[34,8,30,12],[34,14,30,18],[34,18,30,22,"TypeError"],[34,27,30,31],[34,28,30,32],[34,59,30,63],[34,60,30,64],[35,6,31,8],[36,6,32,8],[36,10,32,12],[36,17,32,19,"checkClientCertificate"],[36,39,32,41],[36,44,32,46],[36,53,32,55],[36,55,32,57],[37,8,33,12],[37,14,33,18],[37,18,33,22,"TypeError"],[37,27,33,31],[37,28,33,32],[37,70,33,74],[37,71,33,75],[38,6,34,8],[39,6,35,8],[39,12,35,14,"cert"],[39,16,35,18],[39,19,35,21],[39,21,35,23],[40,6,36,8],[40,12,36,14,"key"],[40,15,36,17],[40,18,36,20],[40,20,36,22],[41,6,37,8],[41,11,37,13],[41,15,37,17,"i"],[41,16,37,18],[41,19,37,21],[41,20,37,22],[41,22,37,24,"i"],[41,23,37,25],[41,26,37,28,"keyCertPairs"],[41,38,37,40],[41,39,37,41,"length"],[41,45,37,47],[41,47,37,49,"i"],[41,48,37,50],[41,50,37,52],[41,52,37,54],[42,8,38,12],[42,14,38,18,"pair"],[42,18,38,22],[42,21,38,25,"keyCertPairs"],[42,33,38,37],[42,34,38,38,"i"],[42,35,38,39],[42,36,38,40],[43,8,39,12],[43,12,39,16,"pair"],[43,16,39,20],[43,21,39,25],[43,25,39,29],[43,29,39,33],[43,36,39,40,"pair"],[43,40,39,44],[43,45,39,49],[43,53,39,57],[43,55,39,59],[44,10,40,16],[44,16,40,22],[44,20,40,26,"TypeError"],[44,29,40,35],[44,30,40,36],[44,45,40,51,"i"],[44,46,40,52],[44,67,40,73],[44,68,40,74],[45,8,41,12],[46,8,42,12],[46,12,42,16],[46,13,42,17,"Buffer"],[46,19,42,23],[46,20,42,24,"isBuffer"],[46,28,42,32],[46,29,42,33,"pair"],[46,33,42,37],[46,34,42,38,"private_key"],[46,45,42,49],[46,46,42,50],[46,48,42,52],[47,10,43,16],[47,16,43,22],[47,20,43,26,"TypeError"],[47,29,43,35],[47,30,43,36],[47,45,43,51,"i"],[47,46,43,52],[47,78,43,84],[47,79,43,85],[48,8,44,12],[49,8,45,12],[49,12,45,16],[49,13,45,17,"Buffer"],[49,19,45,23],[49,20,45,24,"isBuffer"],[49,28,45,32],[49,29,45,33,"pair"],[49,33,45,37],[49,34,45,38,"cert_chain"],[49,44,45,48],[49,45,45,49],[49,47,45,51],[50,10,46,16],[50,16,46,22],[50,20,46,26,"TypeError"],[50,29,46,35],[50,30,46,36],[50,45,46,51,"i"],[50,46,46,52],[50,77,46,83],[50,78,46,84],[51,8,47,12],[52,8,48,12,"cert"],[52,12,48,16],[52,13,48,17,"push"],[52,17,48,21],[52,18,48,22,"pair"],[52,22,48,26],[52,23,48,27,"cert_chain"],[52,33,48,37],[52,34,48,38],[53,8,49,12,"key"],[53,11,49,15],[53,12,49,16,"push"],[53,16,49,20],[53,17,49,21,"pair"],[53,21,49,25],[53,22,49,26,"private_key"],[53,33,49,37],[53,34,49,38],[54,6,50,8],[55,6,51,8],[55,13,51,15],[55,17,51,19,"SecureServerCredentials"],[55,40,51,42],[55,41,51,43],[56,8,52,12,"ca"],[56,10,52,14],[56,12,52,16,"rootCerts"],[56,21,52,25],[56,25,52,29],[56,26,52,30],[56,27,52,31],[56,29,52,33,"tls_helpers_1"],[56,42,52,46],[56,43,52,47,"getDefaultRootsData"],[56,62,52,66],[56,64,52,68],[56,65,52,69],[56,69,52,73,"undefined"],[56,78,52,82],[57,8,53,12,"cert"],[57,12,53,16],[58,8,54,12,"key"],[58,11,54,15],[59,8,55,12,"requestCert"],[59,19,55,23],[59,21,55,25,"checkClientCertificate"],[59,43,55,47],[60,8,56,12,"ciphers"],[60,15,56,19],[60,17,56,21,"tls_helpers_1"],[60,30,56,34],[60,31,56,35,"CIPHER_SUITES"],[61,6,57,8],[61,7,57,9],[61,8,57,10],[62,4,58,4],[63,2,59,0],[64,2,60,0,"exports"],[64,9,60,7],[64,10,60,8,"ServerCredentials"],[64,27,60,25],[64,30,60,28,"ServerCredentials"],[64,47,60,45],[65,2,61,0],[65,8,61,6,"InsecureServerCredentials"],[65,33,61,31],[65,42,61,40,"ServerCredentials"],[65,59,61,57],[65,60,61,58],[66,4,62,4,"_isSecure"],[66,13,62,13,"_isSecure"],[66,14,62,13],[66,16,62,16],[67,6,63,8],[67,13,63,15],[67,18,63,20],[68,4,64,4],[69,4,65,4,"_getSettings"],[69,16,65,16,"_getSettings"],[69,17,65,16],[69,19,65,19],[70,6,66,8],[70,13,66,15],[70,17,66,19],[71,4,67,4],[72,2,68,0],[73,2,69,0],[73,8,69,6,"SecureServerCredentials"],[73,31,69,29],[73,40,69,38,"ServerCredentials"],[73,57,69,55],[73,58,69,56],[74,4,70,4,"constructor"],[74,15,70,15,"constructor"],[74,16,70,16,"options"],[74,23,70,23],[74,25,70,25],[75,6,71,8],[75,11,71,13],[75,12,71,14],[75,13,71,15],[76,6,72,8],[76,10,72,12],[76,11,72,13,"options"],[76,18,72,20],[76,21,72,23,"options"],[76,28,72,30],[77,4,73,4],[78,4,74,4,"_isSecure"],[78,13,74,13,"_isSecure"],[78,14,74,13],[78,16,74,16],[79,6,75,8],[79,13,75,15],[79,17,75,19],[80,4,76,4],[81,4,77,4,"_getSettings"],[81,16,77,16,"_getSettings"],[81,17,77,16],[81,19,77,19],[82,6,78,8],[82,13,78,15],[82,17,78,19],[82,18,78,20,"options"],[82,25,78,27],[83,4,79,4],[84,2,80,0],[85,0,80,1],[85,3]],"functionMap":{"names":["<global>","ServerCredentials","ServerCredentials.createInsecure","ServerCredentials.createSsl","InsecureServerCredentials","InsecureServerCredentials#_isSecure","InsecureServerCredentials#_getSettings","SecureServerCredentials","SecureServerCredentials#constructor","SecureServerCredentials#_isSecure","SecureServerCredentials#_getSettings"],"mappings":"AAA;ACoB;ICC;KDE;IEC;KFiC;CDC;AIE;ICC;KDE;IEC;KFE;CJC;AOC;ICC;KDG;IEC;KFE;IGC;KHE;CPC"},"hasCjsExports":true},"type":"js/module"}]}