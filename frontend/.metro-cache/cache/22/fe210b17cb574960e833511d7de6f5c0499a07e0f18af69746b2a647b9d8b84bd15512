{"dependencies":[{"name":"./uri-parser","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":21,"index":850},"end":{"line":20,"column":44,"index":873}}],"key":"esiO732HplrDMf1oXKGdpawa/aM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  /*\n   * Copyright 2019 gRPC authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   */\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.mapUriDefaultScheme = exports.getDefaultAuthority = exports.createResolver = exports.registerDefaultScheme = exports.registerResolver = void 0;\n  const uri_parser_1 = require(_dependencyMap[0], \"./uri-parser\");\n  const registeredResolvers = {};\n  let defaultScheme = null;\n  /**\n   * Register a resolver class to handle target names prefixed with the `prefix`\n   * string. This prefix should correspond to a URI scheme name listed in the\n   * [gRPC Name Resolution document](https://github.com/grpc/grpc/blob/master/doc/naming.md)\n   * @param prefix\n   * @param resolverClass\n   */\n  function registerResolver(scheme, resolverClass) {\n    registeredResolvers[scheme] = resolverClass;\n  }\n  exports.registerResolver = registerResolver;\n  /**\n   * Register a default resolver to handle target names that do not start with\n   * any registered prefix.\n   * @param resolverClass\n   */\n  function registerDefaultScheme(scheme) {\n    defaultScheme = scheme;\n  }\n  exports.registerDefaultScheme = registerDefaultScheme;\n  /**\n   * Create a name resolver for the specified target, if possible. Throws an\n   * error if no such name resolver can be created.\n   * @param target\n   * @param listener\n   */\n  function createResolver(target, listener, options) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n      return new registeredResolvers[target.scheme](target, listener, options);\n    } else {\n      throw new Error(`No resolver could be created for target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n  }\n  exports.createResolver = createResolver;\n  /**\n   * Get the default authority for the specified target, if possible. Throws an\n   * error if no registered name resolver can parse that target string.\n   * @param target\n   */\n  function getDefaultAuthority(target) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n      return registeredResolvers[target.scheme].getDefaultAuthority(target);\n    } else {\n      throw new Error(`Invalid target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n  }\n  exports.getDefaultAuthority = getDefaultAuthority;\n  function mapUriDefaultScheme(target) {\n    if (target.scheme === undefined || !(target.scheme in registeredResolvers)) {\n      if (defaultScheme !== null) {\n        return {\n          scheme: defaultScheme,\n          authority: undefined,\n          path: (0, uri_parser_1.uriToString)(target)\n        };\n      } else {\n        return null;\n      }\n    }\n    return target;\n  }\n  exports.mapUriDefaultScheme = mapUriDefaultScheme;\n});","lineCount":89,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[5,0,3,0],[6,0,4,0],[7,0,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,2,18,0,"Object"],[20,8,18,6],[20,9,18,7,"defineProperty"],[20,23,18,21],[20,24,18,22,"exports"],[20,31,18,29],[20,33,18,31],[20,45,18,43],[20,47,18,45],[21,4,18,47,"value"],[21,9,18,52],[21,11,18,54],[22,2,18,59],[22,3,18,60],[22,4,18,61],[23,2,19,0,"exports"],[23,9,19,7],[23,10,19,8,"mapUriDefaultScheme"],[23,29,19,27],[23,32,19,30,"exports"],[23,39,19,37],[23,40,19,38,"getDefaultAuthority"],[23,59,19,57],[23,62,19,60,"exports"],[23,69,19,67],[23,70,19,68,"createResolver"],[23,84,19,82],[23,87,19,85,"exports"],[23,94,19,92],[23,95,19,93,"registerDefaultScheme"],[23,116,19,114],[23,119,19,117,"exports"],[23,126,19,124],[23,127,19,125,"registerResolver"],[23,143,19,141],[23,146,19,144],[23,151,19,149],[23,152,19,150],[24,2,20,0],[24,8,20,6,"uri_parser_1"],[24,20,20,18],[24,23,20,21,"require"],[24,30,20,28],[24,31,20,28,"_dependencyMap"],[24,45,20,28],[24,64,20,43],[24,65,20,44],[25,2,21,0],[25,8,21,6,"registeredResolvers"],[25,27,21,25],[25,30,21,28],[25,31,21,29],[25,32,21,30],[26,2,22,0],[26,6,22,4,"defaultScheme"],[26,19,22,17],[26,22,22,20],[26,26,22,24],[27,2,23,0],[28,0,24,0],[29,0,25,0],[30,0,26,0],[31,0,27,0],[32,0,28,0],[33,0,29,0],[34,2,30,0],[34,11,30,9,"registerResolver"],[34,27,30,25,"registerResolver"],[34,28,30,26,"scheme"],[34,34,30,32],[34,36,30,34,"resolverClass"],[34,49,30,47],[34,51,30,49],[35,4,31,4,"registeredResolvers"],[35,23,31,23],[35,24,31,24,"scheme"],[35,30,31,30],[35,31,31,31],[35,34,31,34,"resolverClass"],[35,47,31,47],[36,2,32,0],[37,2,33,0,"exports"],[37,9,33,7],[37,10,33,8,"registerResolver"],[37,26,33,24],[37,29,33,27,"registerResolver"],[37,45,33,43],[38,2,34,0],[39,0,35,0],[40,0,36,0],[41,0,37,0],[42,0,38,0],[43,2,39,0],[43,11,39,9,"registerDefaultScheme"],[43,32,39,30,"registerDefaultScheme"],[43,33,39,31,"scheme"],[43,39,39,37],[43,41,39,39],[44,4,40,4,"defaultScheme"],[44,17,40,17],[44,20,40,20,"scheme"],[44,26,40,26],[45,2,41,0],[46,2,42,0,"exports"],[46,9,42,7],[46,10,42,8,"registerDefaultScheme"],[46,31,42,29],[46,34,42,32,"registerDefaultScheme"],[46,55,42,53],[47,2,43,0],[48,0,44,0],[49,0,45,0],[50,0,46,0],[51,0,47,0],[52,0,48,0],[53,2,49,0],[53,11,49,9,"createResolver"],[53,25,49,23,"createResolver"],[53,26,49,24,"target"],[53,32,49,30],[53,34,49,32,"listener"],[53,42,49,40],[53,44,49,42,"options"],[53,51,49,49],[53,53,49,51],[54,4,50,4],[54,8,50,8,"target"],[54,14,50,14],[54,15,50,15,"scheme"],[54,21,50,21],[54,26,50,26,"undefined"],[54,35,50,35],[54,39,50,39,"target"],[54,45,50,45],[54,46,50,46,"scheme"],[54,52,50,52],[54,56,50,56,"registeredResolvers"],[54,75,50,75],[54,77,50,77],[55,6,51,8],[55,13,51,15],[55,17,51,19,"registeredResolvers"],[55,36,51,38],[55,37,51,39,"target"],[55,43,51,45],[55,44,51,46,"scheme"],[55,50,51,52],[55,51,51,53],[55,52,51,54,"target"],[55,58,51,60],[55,60,51,62,"listener"],[55,68,51,70],[55,70,51,72,"options"],[55,77,51,79],[55,78,51,80],[56,4,52,4],[56,5,52,5],[56,11,53,9],[57,6,54,8],[57,12,54,14],[57,16,54,18,"Error"],[57,21,54,23],[57,22,54,24],[57,65,54,67],[57,66,54,68],[57,67,54,69],[57,69,54,71,"uri_parser_1"],[57,81,54,83],[57,82,54,84,"uriToString"],[57,93,54,95],[57,95,54,97,"target"],[57,101,54,103],[57,102,54,104],[57,104,54,106],[57,105,54,107],[58,4,55,4],[59,2,56,0],[60,2,57,0,"exports"],[60,9,57,7],[60,10,57,8,"createResolver"],[60,24,57,22],[60,27,57,25,"createResolver"],[60,41,57,39],[61,2,58,0],[62,0,59,0],[63,0,60,0],[64,0,61,0],[65,0,62,0],[66,2,63,0],[66,11,63,9,"getDefaultAuthority"],[66,30,63,28,"getDefaultAuthority"],[66,31,63,29,"target"],[66,37,63,35],[66,39,63,37],[67,4,64,4],[67,8,64,8,"target"],[67,14,64,14],[67,15,64,15,"scheme"],[67,21,64,21],[67,26,64,26,"undefined"],[67,35,64,35],[67,39,64,39,"target"],[67,45,64,45],[67,46,64,46,"scheme"],[67,52,64,52],[67,56,64,56,"registeredResolvers"],[67,75,64,75],[67,77,64,77],[68,6,65,8],[68,13,65,15,"registeredResolvers"],[68,32,65,34],[68,33,65,35,"target"],[68,39,65,41],[68,40,65,42,"scheme"],[68,46,65,48],[68,47,65,49],[68,48,65,50,"getDefaultAuthority"],[68,67,65,69],[68,68,65,70,"target"],[68,74,65,76],[68,75,65,77],[69,4,66,4],[69,5,66,5],[69,11,67,9],[70,6,68,8],[70,12,68,14],[70,16,68,18,"Error"],[70,21,68,23],[70,22,68,24],[70,40,68,42],[70,41,68,43],[70,42,68,44],[70,44,68,46,"uri_parser_1"],[70,56,68,58],[70,57,68,59,"uriToString"],[70,68,68,70],[70,70,68,72,"target"],[70,76,68,78],[70,77,68,79],[70,79,68,81],[70,80,68,82],[71,4,69,4],[72,2,70,0],[73,2,71,0,"exports"],[73,9,71,7],[73,10,71,8,"getDefaultAuthority"],[73,29,71,27],[73,32,71,30,"getDefaultAuthority"],[73,51,71,49],[74,2,72,0],[74,11,72,9,"mapUriDefaultScheme"],[74,30,72,28,"mapUriDefaultScheme"],[74,31,72,29,"target"],[74,37,72,35],[74,39,72,37],[75,4,73,4],[75,8,73,8,"target"],[75,14,73,14],[75,15,73,15,"scheme"],[75,21,73,21],[75,26,73,26,"undefined"],[75,35,73,35],[75,39,73,39],[75,41,73,41,"target"],[75,47,73,47],[75,48,73,48,"scheme"],[75,54,73,54],[75,58,73,58,"registeredResolvers"],[75,77,73,77],[75,78,73,78],[75,80,73,80],[76,6,74,8],[76,10,74,12,"defaultScheme"],[76,23,74,25],[76,28,74,30],[76,32,74,34],[76,34,74,36],[77,8,75,12],[77,15,75,19],[78,10,76,16,"scheme"],[78,16,76,22],[78,18,76,24,"defaultScheme"],[78,31,76,37],[79,10,77,16,"authority"],[79,19,77,25],[79,21,77,27,"undefined"],[79,30,77,36],[80,10,78,16,"path"],[80,14,78,20],[80,16,78,22],[80,17,78,23],[80,18,78,24],[80,20,78,26,"uri_parser_1"],[80,32,78,38],[80,33,78,39,"uriToString"],[80,44,78,50],[80,46,78,52,"target"],[80,52,78,58],[81,8,79,12],[81,9,79,13],[82,6,80,8],[82,7,80,9],[82,13,81,13],[83,8,82,12],[83,15,82,19],[83,19,82,23],[84,6,83,8],[85,4,84,4],[86,4,85,4],[86,11,85,11,"target"],[86,17,85,17],[87,2,86,0],[88,2,87,0,"exports"],[88,9,87,7],[88,10,87,8,"mapUriDefaultScheme"],[88,29,87,27],[88,32,87,30,"mapUriDefaultScheme"],[88,51,87,49],[89,0,87,50],[89,3]],"functionMap":{"names":["<global>","registerResolver","registerDefaultScheme","createResolver","getDefaultAuthority","mapUriDefaultScheme"],"mappings":"AAA;AC6B;CDE;AEO;CFE;AGQ;CHO;AIO;CJO;AKE;CLc"},"hasCjsExports":true},"type":"js/module"}]}