{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  module.exports = asPromise;\n\n  /**\r\n   * Callback as used by {@link util.asPromise}.\r\n   * @typedef asPromiseCallback\r\n   * @type {function}\r\n   * @param {Error|null} error Error, if any\r\n   * @param {...*} params Additional arguments\r\n   * @returns {undefined}\r\n   */\n\n  /**\r\n   * Returns a promise from a node-style callback function.\r\n   * @memberof util\r\n   * @param {asPromiseCallback} fn Function to call\r\n   * @param {*} ctx Function context\r\n   * @param {...*} params Function arguments\r\n   * @returns {Promise<*>} Promisified function\r\n   */\n  function asPromise(fn, ctx /*, varargs */) {\n    var params = new Array(arguments.length - 1),\n      offset = 0,\n      index = 2,\n      pending = true;\n    while (index < arguments.length) params[offset++] = arguments[index++];\n    return new Promise(function executor(resolve, reject) {\n      params[offset] = function callback(err /*, varargs */) {\n        if (pending) {\n          pending = false;\n          if (err) reject(err);else {\n            var params = new Array(arguments.length - 1),\n              offset = 0;\n            while (offset < params.length) params[offset++] = arguments[offset];\n            resolve.apply(null, params);\n          }\n        }\n      };\n      try {\n        fn.apply(ctx || null, params);\n      } catch (err) {\n        if (pending) {\n          pending = false;\n          reject(err);\n        }\n      }\n    });\n  }\n});","lineCount":51,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"module"],[4,8,2,6],[4,9,2,7,"exports"],[4,16,2,14],[4,19,2,17,"asPromise"],[4,28,2,26],[6,2,4,0],[7,0,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[15,2,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,0,20,0],[23,2,21,0],[23,11,21,9,"asPromise"],[23,20,21,18,"asPromise"],[23,21,21,19,"fn"],[23,23,21,21],[23,25,21,23,"ctx"],[23,28,21,26],[23,45,21,42],[24,4,22,4],[24,8,22,8,"params"],[24,14,22,14],[24,17,22,18],[24,21,22,22,"Array"],[24,26,22,27],[24,27,22,28,"arguments"],[24,36,22,37],[24,37,22,38,"length"],[24,43,22,44],[24,46,22,47],[24,47,22,48],[24,48,22,49],[25,6,23,8,"offset"],[25,12,23,14],[25,15,23,18],[25,16,23,19],[26,6,24,8,"index"],[26,11,24,13],[26,14,24,18],[26,15,24,19],[27,6,25,8,"pending"],[27,13,25,15],[27,16,25,18],[27,20,25,22],[28,4,26,4],[28,11,26,11,"index"],[28,16,26,16],[28,19,26,19,"arguments"],[28,28,26,28],[28,29,26,29,"length"],[28,35,26,35],[28,37,27,8,"params"],[28,43,27,14],[28,44,27,15,"offset"],[28,50,27,21],[28,52,27,23],[28,53,27,24],[28,56,27,27,"arguments"],[28,65,27,36],[28,66,27,37,"index"],[28,71,27,42],[28,73,27,44],[28,74,27,45],[29,4,28,4],[29,11,28,11],[29,15,28,15,"Promise"],[29,22,28,22],[29,23,28,23],[29,32,28,32,"executor"],[29,40,28,40,"executor"],[29,41,28,41,"resolve"],[29,48,28,48],[29,50,28,50,"reject"],[29,56,28,56],[29,58,28,58],[30,6,29,8,"params"],[30,12,29,14],[30,13,29,15,"offset"],[30,19,29,21],[30,20,29,22],[30,23,29,25],[30,32,29,34,"callback"],[30,40,29,42,"callback"],[30,41,29,43,"err"],[30,44,29,46],[30,61,29,62],[31,8,30,12],[31,12,30,16,"pending"],[31,19,30,23],[31,21,30,25],[32,10,31,16,"pending"],[32,17,31,23],[32,20,31,26],[32,25,31,31],[33,10,32,16],[33,14,32,20,"err"],[33,17,32,23],[33,19,33,20,"reject"],[33,25,33,26],[33,26,33,27,"err"],[33,29,33,30],[33,30,33,31],[33,31,33,32],[33,36,34,21],[34,12,35,20],[34,16,35,24,"params"],[34,22,35,30],[34,25,35,33],[34,29,35,37,"Array"],[34,34,35,42],[34,35,35,43,"arguments"],[34,44,35,52],[34,45,35,53,"length"],[34,51,35,59],[34,54,35,62],[34,55,35,63],[34,56,35,64],[35,14,36,24,"offset"],[35,20,36,30],[35,23,36,33],[35,24,36,34],[36,12,37,20],[36,19,37,27,"offset"],[36,25,37,33],[36,28,37,36,"params"],[36,34,37,42],[36,35,37,43,"length"],[36,41,37,49],[36,43,38,24,"params"],[36,49,38,30],[36,50,38,31,"offset"],[36,56,38,37],[36,58,38,39],[36,59,38,40],[36,62,38,43,"arguments"],[36,71,38,52],[36,72,38,53,"offset"],[36,78,38,59],[36,79,38,60],[37,12,39,20,"resolve"],[37,19,39,27],[37,20,39,28,"apply"],[37,25,39,33],[37,26,39,34],[37,30,39,38],[37,32,39,40,"params"],[37,38,39,46],[37,39,39,47],[38,10,40,16],[39,8,41,12],[40,6,42,8],[40,7,42,9],[41,6,43,8],[41,10,43,12],[42,8,44,12,"fn"],[42,10,44,14],[42,11,44,15,"apply"],[42,16,44,20],[42,17,44,21,"ctx"],[42,20,44,24],[42,24,44,28],[42,28,44,32],[42,30,44,34,"params"],[42,36,44,40],[42,37,44,41],[43,6,45,8],[43,7,45,9],[43,8,45,10],[43,15,45,17,"err"],[43,18,45,20],[43,20,45,22],[44,8,46,12],[44,12,46,16,"pending"],[44,19,46,23],[44,21,46,25],[45,10,47,16,"pending"],[45,17,47,23],[45,20,47,26],[45,25,47,31],[46,10,48,16,"reject"],[46,16,48,22],[46,17,48,23,"err"],[46,20,48,26],[46,21,48,27],[47,8,49,12],[48,6,50,8],[49,4,51,4],[49,5,51,5],[49,6,51,6],[50,2,52,0],[51,0,52,1],[51,3]],"functionMap":{"names":["<global>","asPromise","executor","callback"],"mappings":"AAA;ACoB;uBCO;yBCC;SDa;KDS;CDC"},"hasCjsExports":true},"type":"js/module"}]}