{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":43,"index":77}}],"key":"rswhtWQFlk40P6/ZSXiz3NZSC0I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _utilsStorage = require(_dependencyMap[1], \"../utils/storage\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    sessionToken: null,\n    isAuthenticated: false,\n    isLoading: true,\n    setUser: user => set({\n      user\n    }),\n    setSession: async (user, token) => {\n      try {\n        await _utilsStorage.storage.setItem('user', JSON.stringify(user));\n        await _utilsStorage.storage.setItem('sessionToken', token);\n      } catch (e) {\n        console.warn('setSession storage error:', e);\n      }\n      set({\n        user,\n        sessionToken: token,\n        isAuthenticated: true,\n        isLoading: false\n      });\n    },\n    logout: async () => {\n      try {\n        await _utilsStorage.storage.removeItem('user');\n        await _utilsStorage.storage.removeItem('sessionToken');\n      } catch (e) {\n        console.warn('logout storage error:', e);\n      }\n      set({\n        user: null,\n        sessionToken: null,\n        isAuthenticated: false,\n        isLoading: false\n      });\n    },\n    loadStoredAuth: async () => {\n      try {\n        const [userStr, token] = await Promise.all([_utilsStorage.storage.getItem('user'), _utilsStorage.storage.getItem('sessionToken')]);\n        if (userStr && token) {\n          const user = JSON.parse(userStr);\n          set({\n            user,\n            sessionToken: token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":75,"map":[[7,2,29,0,"Object"],[7,8,29,0],[7,9,29,0,"defineProperty"],[7,23,29,0],[7,24,29,0,"exports"],[7,31,29,0],[8,4,29,0,"enumerable"],[8,14,29,0],[9,4,29,0,"get"],[9,7,29,0],[9,18,29,0,"get"],[9,19,29,0],[10,6,29,0],[10,13,29,0,"useAuthStore"],[10,25,29,0],[11,4,29,0],[12,2,29,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_utilsStorage"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,29,7],[15,8,29,13,"useAuthStore"],[15,20,29,25],[15,23,29,28],[15,27,29,28,"create"],[15,35,29,34],[15,36,29,34,"create"],[15,42,29,34],[15,44,29,47,"set"],[15,47,29,50],[15,52,29,56],[16,4,30,2,"user"],[16,8,30,6],[16,10,30,8],[16,14,30,12],[17,4,31,2,"sessionToken"],[17,16,31,14],[17,18,31,16],[17,22,31,20],[18,4,32,2,"isAuthenticated"],[18,19,32,17],[18,21,32,19],[18,26,32,24],[19,4,33,2,"isLoading"],[19,13,33,11],[19,15,33,13],[19,19,33,17],[20,4,35,2,"setUser"],[20,11,35,9],[20,13,35,12,"user"],[20,17,35,16],[20,21,35,21,"set"],[20,24,35,24],[20,25,35,25],[21,6,35,27,"user"],[22,4,35,32],[22,5,35,33],[22,6,35,34],[23,4,37,2,"setSession"],[23,14,37,12],[23,16,37,14],[23,22,37,14,"setSession"],[23,23,37,21,"user"],[23,27,37,25],[23,29,37,27,"token"],[23,34,37,32],[23,39,37,37],[24,6,38,4],[24,10,38,8],[25,8,39,6],[25,14,39,12,"storage"],[25,27,39,19],[25,28,39,19,"storage"],[25,35,39,19],[25,36,39,20,"setItem"],[25,43,39,27],[25,44,39,28],[25,50,39,34],[25,52,39,36,"JSON"],[25,56,39,40],[25,57,39,41,"stringify"],[25,66,39,50],[25,67,39,51,"user"],[25,71,39,55],[25,72,39,56],[25,73,39,57],[26,8,40,6],[26,14,40,12,"storage"],[26,27,40,19],[26,28,40,19,"storage"],[26,35,40,19],[26,36,40,20,"setItem"],[26,43,40,27],[26,44,40,28],[26,58,40,42],[26,60,40,44,"token"],[26,65,40,49],[26,66,40,50],[27,6,41,4],[27,7,41,5],[27,8,41,6],[27,15,41,13,"e"],[27,16,41,14],[27,18,41,16],[28,8,42,6,"console"],[28,15,42,13],[28,16,42,14,"warn"],[28,20,42,18],[28,21,42,19],[28,48,42,46],[28,50,42,48,"e"],[28,51,42,49],[28,52,42,50],[29,6,43,4],[30,6,44,4,"set"],[30,9,44,7],[30,10,44,8],[31,8,44,10,"user"],[31,12,44,14],[32,8,44,16,"sessionToken"],[32,20,44,28],[32,22,44,30,"token"],[32,27,44,35],[33,8,44,37,"isAuthenticated"],[33,23,44,52],[33,25,44,54],[33,29,44,58],[34,8,44,60,"isLoading"],[34,17,44,69],[34,19,44,71],[35,6,44,77],[35,7,44,78],[35,8,44,79],[36,4,45,2],[36,5,45,3],[37,4,47,2,"logout"],[37,10,47,8],[37,12,47,10],[37,18,47,10,"logout"],[37,19,47,10],[37,24,47,22],[38,6,48,4],[38,10,48,8],[39,8,49,6],[39,14,49,12,"storage"],[39,27,49,19],[39,28,49,19,"storage"],[39,35,49,19],[39,36,49,20,"removeItem"],[39,46,49,30],[39,47,49,31],[39,53,49,37],[39,54,49,38],[40,8,50,6],[40,14,50,12,"storage"],[40,27,50,19],[40,28,50,19,"storage"],[40,35,50,19],[40,36,50,20,"removeItem"],[40,46,50,30],[40,47,50,31],[40,61,50,45],[40,62,50,46],[41,6,51,4],[41,7,51,5],[41,8,51,6],[41,15,51,13,"e"],[41,16,51,14],[41,18,51,16],[42,8,52,6,"console"],[42,15,52,13],[42,16,52,14,"warn"],[42,20,52,18],[42,21,52,19],[42,44,52,42],[42,46,52,44,"e"],[42,47,52,45],[42,48,52,46],[43,6,53,4],[44,6,54,4,"set"],[44,9,54,7],[44,10,54,8],[45,8,54,10,"user"],[45,12,54,14],[45,14,54,16],[45,18,54,20],[46,8,54,22,"sessionToken"],[46,20,54,34],[46,22,54,36],[46,26,54,40],[47,8,54,42,"isAuthenticated"],[47,23,54,57],[47,25,54,59],[47,30,54,64],[48,8,54,66,"isLoading"],[48,17,54,75],[48,19,54,77],[49,6,54,83],[49,7,54,84],[49,8,54,85],[50,4,55,2],[50,5,55,3],[51,4,57,2,"loadStoredAuth"],[51,18,57,16],[51,20,57,18],[51,26,57,18,"loadStoredAuth"],[51,27,57,18],[51,32,57,30],[52,6,58,4],[52,10,58,8],[53,8,59,6],[53,14,59,12],[53,15,59,13,"userStr"],[53,22,59,20],[53,24,59,22,"token"],[53,29,59,27],[53,30,59,28],[53,33,59,31],[53,39,59,37,"Promise"],[53,46,59,44],[53,47,59,45,"all"],[53,50,59,48],[53,51,59,49],[53,52,60,8,"storage"],[53,65,60,15],[53,66,60,15,"storage"],[53,73,60,15],[53,74,60,16,"getItem"],[53,81,60,23],[53,82,60,24],[53,88,60,30],[53,89,60,31],[53,91,61,8,"storage"],[53,104,61,15],[53,105,61,15,"storage"],[53,112,61,15],[53,113,61,16,"getItem"],[53,120,61,23],[53,121,61,24],[53,135,61,38],[53,136,61,39],[53,137,62,7],[53,138,62,8],[54,8,63,6],[54,12,63,10,"userStr"],[54,19,63,17],[54,23,63,21,"token"],[54,28,63,26],[54,30,63,28],[55,10,64,8],[55,16,64,14,"user"],[55,20,64,18],[55,23,64,21,"JSON"],[55,27,64,25],[55,28,64,26,"parse"],[55,33,64,31],[55,34,64,32,"userStr"],[55,41,64,39],[55,42,64,40],[56,10,65,8,"set"],[56,13,65,11],[56,14,65,12],[57,12,65,14,"user"],[57,16,65,18],[58,12,65,20,"sessionToken"],[58,24,65,32],[58,26,65,34,"token"],[58,31,65,39],[59,12,65,41,"isAuthenticated"],[59,27,65,56],[59,29,65,58],[59,33,65,62],[60,12,65,64,"isLoading"],[60,21,65,73],[60,23,65,75],[61,10,65,81],[61,11,65,82],[61,12,65,83],[62,8,66,6],[62,9,66,7],[62,15,66,13],[63,10,67,8,"set"],[63,13,67,11],[63,14,67,12],[64,12,67,14,"isLoading"],[64,21,67,23],[64,23,67,25],[65,10,67,31],[65,11,67,32],[65,12,67,33],[66,8,68,6],[67,6,69,4],[67,7,69,5],[67,8,69,6],[67,15,69,13,"error"],[67,20,69,18],[67,22,69,20],[68,8,70,6,"console"],[68,15,70,13],[68,16,70,14,"error"],[68,21,70,19],[68,22,70,20],[68,50,70,48],[68,52,70,50,"error"],[68,57,70,55],[68,58,70,56],[69,8,71,6,"set"],[69,11,71,9],[69,12,71,10],[70,10,71,12,"isLoading"],[70,19,71,21],[70,21,71,23],[71,8,71,29],[71,9,71,30],[71,10,71,31],[72,6,72,4],[73,4,73,2],[74,2,74,0],[74,3,74,1],[74,4,74,2],[74,5,74,3],[75,0,74,4],[75,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setSession","logout","loadStoredAuth"],"mappings":"AAA;8CC4B;WCM,uBD;cEE;GFQ;UGE;GHQ;kBIE;GJgB;EDC"},"hasCjsExports":false},"type":"js/module"}]}